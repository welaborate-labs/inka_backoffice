<br><hr><br>
<%= form_for @professional do |form| %>
  <%= render 'shared/error_messages', resource: @professional %>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>email</th>
        <th>phone</th>
        <th>address</th>
        <th>document</th>
        <th>avatar</th>
        <th></th>
      </tr>
    </thead>
    <body>
      <tr>
        <td><%= form.text_field :name %></td>
        <td><%= form.text_field :email %></td>
        <td><%= form.text_field :phone %></td>
        <td><%= form.text_field :address %></td>
        <td><%= form.text_field :document %></td>
        <td><%= form.file_field :avatar %></td>
      </tr>
    </body>
  </table>
  <br><hr><br>
  <h1 class="font-bold text-4xl">Schedules Form</h1>
  <table>
    <thead>
      <th>weekday</th>
      <th>starts_at</th>
      <th>ends_at</th>
      <th>interval_starts_at</th>
      <th>interval_ends_at</th>
      <th></th>
    </thead>
    <body>
      <%= render 'schedules/empty' %>
      <%= form.fields_for :schedules do |schedules_form| %>
        <%= render "schedule_fields", f: schedules_form %>
      <% end %>
    </body>
  </table>
  <%= link_to_add_fields "Add Schedules", form, :schedules, 'bg-blue-500 hover:bg-blue-700 text-white font-bold px-4 rounded' %>
  <br><br><hr><br>
  <div class="actions">
    <%= form.submit 'Submit', class: 'bg-blue-500 hover:bg-blue-700 text-white font-bold px-4 rounded' %>
  </div>
<% end %>

<script>
  $('form').on('click', '.remove_fields', function(event) {
    $(this).prev('input[type=hidden]').val('1');
    $(this).closest('tr').hide();
    return event.preventDefault();
  });

  $('form').on('click', '.add_fields', function(event) {
    var regexp, time;
    time = new Date().getTime();
    regexp = new RegExp($(this).data('id'), 'g');
    $(this).before($(this).data('fields').replace(regexp, time));
    return event.preventDefault();
  });
</script>
